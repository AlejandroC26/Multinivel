(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0a8e27a0"],{"26c2":function(t,s,a){"use strict";a("cf43")},6202:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"application-container"},[a("Aside"),a("main",[a("h1",[t._v("Visión de Usuario")]),a("div",{staticClass:"info-card"},[a("p",[t._v("Busca un usuario para ver su perfíl")]),a("form",{on:{submit:function(s){return s.preventDefault(),t.searchUser(t.id)}}},[a("div",{staticClass:"row mt-1"},[a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Busca código"},domProps:{value:t.id},on:{input:function(s){s.target.composing||(t.id=s.target.value)}}})]),t._m(0)])])]),this.search&&this.user.id?a("div",[a("div",{staticClass:"info-card"},[a("p",[t._v("Patrocinadores")]),a("hr"),t.user.num_sponsors||t.user.loaded_sponsors?a("div",[!t.user.num_sponsors&&t.user.loaded_sponsors?a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[t._v("Patrocinador 1")]),a("div",{staticClass:"col-2"},[t._v("...")]),a("div",{staticClass:"col-6"},[t._v("Comercializadora 3B")])]):t._e(),t._l(t.user.num_sponsors,(function(s){return a("div",{key:s,staticClass:"row mb-2"},[a("div",{staticClass:"col-sm-4"},[a("p",[t._v("Patrocinador "+t._s(s))])]),a("div",{staticClass:"col-2"},[a("p",{staticStyle:{color:"var(--color-dark)"}},[t._v(t._s(t.user.sponsors[s].code))])]),a("div",{staticClass:"col-6"},[a("p",{staticStyle:{color:"var(--color-dark)"}},[t._v(t._s(t.user.sponsors[s].name))])])])}))],2):a("div",[t._m(1)])]),a("div",{staticClass:"info-card"},[a("p",[t._v("Líneas")]),a("hr"),t._l(5,(function(s){return a("div",{key:s,staticClass:"mb-2 active-line row",staticStyle:{margin:"0"},on:{click:function(a){return t.showLine(s)}}},[a("div",{staticClass:"col"},[t._v(t._s(t.renderNumLinea(s)))]),a("div",{staticClass:"col"},[a("b",[t._v(t._s(t.user.lines[s]))])])])}))],2),this.user.id?a("div",{staticClass:"info-card mb-5"},[t._m(2),a("div",{staticClass:"tab-content",attrs:{id:"nav-tabContent"}},[a("div",{staticClass:"tab-pane fade show active",attrs:{id:"nav-personal",role:"tabpanel","aria-labelledby":"nav-personal-tab"}},[a("div",{staticClass:"row mt-3 mb-1"},[a("div",{staticClass:"col-md-3"},[a("p",[t._v("Código")]),a("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.id))])]),a("div",{staticClass:"col-md-9"},[a("p",[t._v("Documento")]),a("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.id_card))])])]),a("div",{staticClass:"row mt-2 mb-1"},[a("div",{staticClass:"col-md-6"},[a("p",[t._v("Nombres")]),a("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.name))])]),a("div",{staticClass:"col-md-6"},[a("p",[t._v("Apellidos")]),a("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.last_name))])])]),this.user.root_file||this.user.card_file?a("div",{staticClass:"row mt-3"},[this.user.root_file?a("div",{staticClass:"col-lg-6"},[a("p",[t._v("Archivo - Rut")]),a("span",{staticClass:"link",on:{click:function(s){return t.downloadFile("root")}}},[t._v(t._s(this.user.root_file))])]):t._e(),a("div",{staticClass:"col-lg-6"},[a("p",[t._v("Archivo - Documento")]),a("span",{staticClass:"link",on:{click:function(s){return t.downloadFile("card")}}},[t._v(t._s(this.user.card_file))])])]):t._e()]),a("div",{staticClass:"tab-pane fade",attrs:{id:"nav-contact",role:"tabpanel","aria-labelledby":"nav-contact-tab"}},[a("div",{staticClass:"row mt-3 mb-1"},[a("div",{staticClass:"col-md-12"},[a("p",[t._v("WhatsApp")]),a("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.whatsApp))])])]),a("div",{staticClass:"row mt-2 mb-1"},[a("div",{staticClass:"col-lg-6"},[a("p",[t._v("Teléfono de Contacto")]),a("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.primary_phone))])]),a("div",{staticClass:"col-lg-6"},[a("p",[t._v("Teléfono Secundario (opcional)")]),a("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.secondary_phone))])])]),a("div",{staticClass:"row mt-2 mb-1"},[a("div",{staticClass:"col-md-12"},[a("p",[t._v("País")]),a("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.country_name))])])]),a("div",{staticClass:"row mt-2 mb-1"},[a("div",{staticClass:"col-lg-6"},[a("p",[t._v("Departamento")]),a("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.department))])]),a("div",{staticClass:"col-lg-6"},[a("p",[t._v("Ciudad")]),a("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.city_name))])])]),a("div",{staticClass:"row mt-2 mb-1"},[a("div",{staticClass:"col-lg-12"},[a("p",[t._v("Dirección, barrio o localidad (opcional)")]),a("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.adress))])])])]),a("div",{staticClass:"tab-pane fade",attrs:{id:"nav-access",role:"tabpanel","aria-labelledby":"nav-access-tab"}},[a("div",{staticClass:"row mt-3 mb-1"},[a("div",{staticClass:"col-md-12"},[a("p",[t._v("Correo")]),a("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.email))])])]),t._m(3)])])]):a("div",{staticClass:"info-card"},[t._m(4)])]):t._e(),this.search&&this.user.loaded&&!this.user.id?a("div",[t._m(5)]):t._e(),this.search&&!this.user.loaded?a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("div",{staticClass:"lds-dual-ring"})]):t._e()]),a("Right")],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"col-sm-2"},[a("button",{staticClass:"btn btn-primary"},[t._v("Buscar")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("div",{staticClass:"lds-facebook"},[a("div"),a("div"),a("div")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("nav",[a("div",{staticClass:"nav nav-tabs",attrs:{id:"nav-tab",role:"tablist"}},[a("button",{staticClass:"nav-link active",attrs:{id:"nav-personal-tab","data-toggle":"tab","data-target":"#nav-personal",type:"button",role:"tab","aria-controls":"nav-personal","aria-selected":"true"}},[t._v("Información Personal")]),a("button",{staticClass:"nav-link",attrs:{id:"nav-contact-tab","data-toggle":"tab","data-target":"#nav-contact",type:"button",role:"tab","aria-controls":"nav-contact","aria-selected":"false"}},[t._v("Información de Contacto")]),a("button",{staticClass:"nav-link",attrs:{id:"nav-access-tab","data-toggle":"tab","data-target":"#nav-access",type:"button",role:"tab","aria-controls":"nav-access","aria-selected":"false"}},[t._v("Información de Acceso")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"row mt-2 mb-1"},[a("div",{staticClass:"col-md-12"},[a("p",[t._v("Contraseña")]),a("p",{staticClass:"form-control"},[t._v("****")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticStyle:{display:"flex","justify-content":"center"}},[a("div",{staticClass:"lds-dual-ring"})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"info-card"},[a("p",[t._v("Usuario no encontrado")])])}],r=a("1da1"),c=a("5530"),o=(a("96cf"),a("d3b7"),a("159b"),a("b0c0"),a("ac1f"),a("841c"),a("2f62")),n=a("3d13"),l=a("8084"),d={name:"UserVision",components:{Aside:n["a"],Right:l["a"]},data:function(){return{id:this.$route.params.id,search:!1}},methods:Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])({showLine:function(t){var s=this,a=document.getElementById("active_line");a.innerHTML=this.renderNumLinea(t),$("#modal-lines").modal("show"),this.getUsersLine({user_id:this.id,line:t}).then((function(t){var a=[];t.data.forEach((function(t){var e=s.formatDate(t.created_at),i={id:t.id,name:t.name,date:e};a.push(i)})),$("#table-line").DataTable({responsive:!0,lengthChange:!1,info:!1,destroy:!0,data:a,columns:[{data:"id"},{data:"name"},{data:"date"}]})}))},renderNumLinea:function(t){switch(t){case 1:return"Primera Línea";case 2:return"Segunda Línea";case 3:return"Tercera Línea";case 4:return"Cuarta Línea";case 5:return"Quinta Línea";default:return""}},formatDate:function(t){var s=new Date(t),a=s.getFullYear(),e=s.getMonth()+1,i=s.getDate();return e<10&&(e="0"+e),i<10&&(i="0"+i),a+"/"+e+"/"+i},downloadFile:function(t){var s=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var e,i,r,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.showFile({id:s.user.id,file:t});case 3:e=a.sent,i="data:application/pdf;base64,".concat(e.data.data),r=document.createElement("a"),c=s.user.id+"_"+t.toUpperCase()+".pdf",r.href=i,r.download=c,r.click(),a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](0),console.log(a.t0);case 15:case"end":return a.stop()}}),a,null,[[0,12]])})))()},searchUser:function(t){this.search=!0,this.loadUser(t),this.loadLines(t),this.loadSponsors(t)}},Object(o["b"])("user",["showFile"])),Object(o["b"])("user",["getUsersLine"])),Object(o["c"])("user",["loadUser"])),Object(o["c"])("user",["loadLines"])),Object(o["c"])("user",["loadSponsors"])),Object(o["c"])(["loadSessionUser"])),mounted:function(){$(".modal-backdrop").remove(),this.search=!1,this.loadSessionUser(),this.id&&(this.search=!0,this.loadUser(this.id),this.loadLines(this.id),this.loadSponsors(this.id))},computed:Object(c["a"])(Object(c["a"])({},Object(o["d"])("user",["user"])),Object(o["d"])(["session_user"]))},v=d,u=(a("26c2"),a("0c7c")),p=Object(u["a"])(v,e,i,!1,null,"184b0198",null);s["default"]=p.exports},cf43:function(t,s,a){}}]);
//# sourceMappingURL=chunk-0a8e27a0.3582467e.js.map