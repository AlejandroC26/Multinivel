(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73169ffd"],{"4a50":function(s,t,e){},7277:function(s,t,e){"use strict";e.r(t);var a=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"application-container"},[e("Aside"),e("main",[e("h1",[s._v("Panel de administración")]),e("div",{staticClass:"info-card"},[e("h3",[s._v("Datos del Usuario")]),e("hr"),e("div",{staticClass:"row mb-2"},[s._m(0),e("div",{staticClass:"col-md-9"},[e("b",[s._v(s._s(s.session_user.id))])])]),e("div",{staticClass:"row mb-2"},[s._m(1),e("div",{staticClass:"col-md-9"},[e("b",[s._v(s._s(s.session_user.name+" "+s.session_user.last_name))])])]),e("div",{staticClass:"row mb-2"},[s._m(2),e("div",{staticClass:"col-md-9"},[s.session_user.sp_user_code?e("b",[s._v(s._s(s.session_user.sp_user_name))]):e("b",[s._v("Comercializadora 3B")])])]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-12"},[e("a",{staticStyle:{margin:"0 auto",display:"block","text-align":"center"},attrs:{href:"#"},on:{click:function(t){return s.reload()}}},[s._v("Recargar")])])])]),e("div",{staticClass:"insights"},[e("div",{staticClass:"commissions",on:{click:function(t){return s.showCommissionsUser()}}},[e("span",{staticClass:"material-icons-sharp"},[s._v("")]),e("div",{staticClass:"middle"},[e("div",{staticClass:"left"},[e("h3",[s._v("Comisiones Totales")]),e("div",{staticClass:"h3"},[e("label",[s._v("$"+s._s(this.formatMoney(s.session_wallet.current_money)[0]))]),e("label",{staticClass:"fs-4"},[s._v(","+s._s(this.formatMoney(s.session_wallet.current_money)[1]))])])])])]),s.session_lines.loaded?e("div",{on:{click:function(t){return s.showLine("all")}}},[e("span",{staticClass:"material-icons-sharp"},[s._v("group")]),e("div",{staticClass:"middle"},[e("div",{staticClass:"left"},[e("h3",[s._v("Usuarios en Red")]),e("h1",[s._v(s._s(s.session_lines.total_users)+" ")])])])]):e("div",[s._m(3)])])]),e("Right"),e("div",{staticClass:"modal fade",attrs:{id:"modal-commissions-user",tabindex:"-1","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog"},[e("div",{staticClass:"modal-content"},[s._m(4),e("div",{staticClass:"modal-body"},[s.loading_commissions?e("div",{staticStyle:{display:"flex","justify-content":"center"}},[s._m(5)]):s._e(),e("div",{class:{dnone:s.loading_commissions}},[s._m(6)])])])])])],1)},i=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"col-md-3"},[e("p",[s._v("Código")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"col-md-3"},[e("p",[s._v("Nombre")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"col-md-3"},[e("p",[s._v("Patrocinador")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticStyle:{display:"flex","justify-content":"center"}},[e("div",{staticClass:"lds-dual-ring"})])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"modal-header"},[e("h3",{staticClass:"modal-title"},[s._v("Comisiones")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[s._v("×")])])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"lds-facebook"},[e("div"),e("div"),e("div")])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("table",{staticClass:"table table-striped",staticStyle:{border:"none"},attrs:{id:"table-commissions-user"}},[e("thead",[e("tr",[e("th",[s._v("Alianza")]),e("th",[s._v("Patrocinador")]),e("th",[s._v("Comisión")]),e("th",[s._v("Fecha")])])])])}],n=e("5530"),o=(e("d3b7"),e("159b"),e("99af"),e("b0c0"),e("ac1f"),e("1276"),e("b65f"),e("2f62")),l=e("3d13"),r=e("8084"),c={name:"Dashboard",components:{Aside:l["a"],Right:r["a"]},data:function(){return{loading_commissions:!1}},methods:Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])(Object(n["a"])({reload:function(){this.loadSessionUser({reload:!0}),this.loadSessionLines({reload:!0}),this.loadSessionWallet({reload:!0})},showCommissionsUser:function(){var s=this;this.loading_commissions=!0,$("#modal-commissions-user").modal("show"),this.userCommissions({id:this.session_user.id,order:"DESC"}).then((function(t){var e=[];t.data.forEach((function(t){var a="$".concat(s.formatMoney(t.money)[0],',<label style="font-size: .8rem;">').concat(s.formatMoney(t.money)[1],"</label>"),i=s.formatDate(t.created_at),n={sale_point_id:t.sale_point_id,sale_point_name:t.sale_point_name,client_user_id:t.client_user_id,client_user_name:t.client_user_name,commission:a,created_at:i};e.push(n)})),s.loading_commissions=!1,$("#table-commissions-user").DataTable({order:[[3,"desc"]],responsive:!0,autoWidth:!1,lengthChange:!1,info:!1,destroy:!0,data:e,columns:[{data:"sale_point_name"},{data:"client_user_name"},{data:"commission"},{data:"created_at"}]})})).catch((function(s){return console.log(s.response)}))},showLine:function(s){var t=this,e=document.getElementById("active_line");e.innerHTML="Usuarios en Red",$("#modal-lines").modal("show"),this.getUsersLine({user_id:this.session_user.id,line:s}).then((function(s){var e=[];s.data.forEach((function(s){var a=t.formatDate(s.created_at),i={id:s.id,name:s.name,date:a};e.push(i)})),$("#table-line").DataTable({responsive:!0,autoWidth:!1,lengthChange:!1,info:!1,destroy:!0,data:e,columns:[{data:"id"},{data:"name"},{data:"date"}]})}))},formatMoney:function(s){var t=new Intl.NumberFormat("em-IN").format(s),e=t.split(","),a=e[1];return a||(a="00"),window.innerWidth<=838?[Math.trunc(s),""]:[e[0],a]},formatDate:function(s){var t=new Date(s),e=t.getFullYear(),a=t.getMonth()+1,i=t.getDate();return a<10&&(a="0"+a),i<10&&(i="0"+i),e+"/"+a+"/"+i}},Object(o["b"])("user",["getUsersLine"])),Object(o["b"])("user",["userCommissions"])),Object(o["c"])(["loadSessionUser"])),Object(o["c"])(["loadSessionWallet"])),Object(o["c"])(["loadSessionLines"])),mounted:function(){var s=this,t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:5e3});t.fire({html:'\n            <a class="link" target="_blanck" href="https://3bvirtual.com">\n                <div class="row" style="margin-right: 0; margin-left:0;">\n                    <div class="col-4" \n                        style="margin-left: 0; margin-right: 0; padding-left: 0; padding-rigth: 0;">\n                        <img src="./logo2.png"/ style="border-radius: .2rem;">\n                    </div>\n                    <div class="col-8">\n                        <p class="mt-2" style="text-align: center;">¡3B en un solo click!</p>\n                        <center><span class="link">3bvirtual.com</span></center>\n                    </div>\n                </div>\n            </a>'}),$(".modal-backdrop").remove(),this.loadSessionUser();var e=setInterval((function(){if(s.session_user.id)return s.loadSessionWallet(),clearInterval(e)}),100)},computed:Object(n["a"])(Object(n["a"])(Object(n["a"])({},Object(o["d"])(["session_user"])),Object(o["d"])(["session_wallet"])),Object(o["d"])(["session_lines"]))},d=c,m=(e("77af"),e("0c7c")),u=Object(m["a"])(d,a,i,!1,null,null,null);t["default"]=u.exports},"77af":function(s,t,e){"use strict";e("4a50")},b65f:function(s,t,e){var a=e("23e7"),i=Math.ceil,n=Math.floor;a({target:"Math",stat:!0},{trunc:function(s){return(s>0?n:i)(s)}})}}]);
//# sourceMappingURL=chunk-73169ffd.badc34b0.js.map