(function(e){function s(s){for(var t,n,i=s[0],u=s[1],c=s[2],l=0,d=[];l<i.length;l++)n=i[l],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&d.push(o[n][0]),o[n]=0;for(t in u)Object.prototype.hasOwnProperty.call(u,t)&&(e[t]=u[t]);p&&p(s);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,s=0;s<r.length;s++){for(var a=r[s],t=!0,n=1;n<a.length;n++){var i=a[n];0!==o[i]&&(t=!1)}t&&(r.splice(s--,1),e=u(u.s=a[0]))}return e}var t={},n={app:0},o={app:0},r=[];function i(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-1dae71ae":"e00eca9d","chunk-20b8545f":"ce7d8386","chunk-23c8a126":"f30ec8b6","chunk-28c6b75b":"05a08870","chunk-36f8da82":"33a0ab37","chunk-3a8e05aa":"244a2c82","chunk-3c4b33b6":"d1f735cd","chunk-455ea4ec":"576b3186","chunk-686cb759":"baa4baa1","chunk-68b0555c":"f8f7136a","chunk-74ae84f4":"fbf823a9","chunk-a1bc9662":"82d40d9e","chunk-e67ae2ec":"0adfbc75","chunk-f32b8b5e":"b1598239"}[e]+".js"}function u(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,u),a.l=!0,a.exports}u.e=function(e){var s=[],a={"chunk-1dae71ae":1,"chunk-20b8545f":1,"chunk-23c8a126":1,"chunk-28c6b75b":1,"chunk-36f8da82":1,"chunk-3a8e05aa":1,"chunk-3c4b33b6":1,"chunk-455ea4ec":1,"chunk-686cb759":1,"chunk-68b0555c":1,"chunk-74ae84f4":1,"chunk-a1bc9662":1,"chunk-e67ae2ec":1,"chunk-f32b8b5e":1};n[e]?s.push(n[e]):0!==n[e]&&a[e]&&s.push(n[e]=new Promise((function(s,a){for(var t="css/"+({}[e]||e)+"."+{"chunk-1dae71ae":"2255f901","chunk-20b8545f":"6265fc01","chunk-23c8a126":"9478a524","chunk-28c6b75b":"a30a7bca","chunk-36f8da82":"2f17c9f2","chunk-3a8e05aa":"2f17c9f2","chunk-3c4b33b6":"83bbe639","chunk-455ea4ec":"0ce976dc","chunk-686cb759":"d827400c","chunk-68b0555c":"f419d02d","chunk-74ae84f4":"0f4aaa25","chunk-a1bc9662":"8c839b70","chunk-e67ae2ec":"e5942aaf","chunk-f32b8b5e":"795b753d"}[e]+".css",o=u.p+t,r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var c=r[i],l=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(l===t||l===o))return s()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){c=d[i],l=c.getAttribute("data-href");if(l===t||l===o)return s()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=s,p.onerror=function(s){var t=s&&s.target&&s.target.src||o,r=new Error("Loading CSS chunk "+e+" failed.\n("+t+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=t,delete n[e],p.parentNode.removeChild(p),a(r)},p.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){n[e]=0})));var t=o[e];if(0!==t)if(t)s.push(t[2]);else{var r=new Promise((function(s,a){t=o[e]=[s,a]}));s.push(t[2]=r);var c,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=i(e);var d=new Error;c=function(s){l.onerror=l.onload=null,clearTimeout(p);var a=o[e];if(0!==a){if(a){var t=s&&("load"===s.type?"missing":s.type),n=s&&s.target&&s.target.src;d.message="Loading chunk "+e+" failed.\n("+t+": "+n+")",d.name="ChunkLoadError",d.type=t,d.request=n,a[1](d)}o[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:l})}),12e4);l.onerror=l.onload=c,document.head.appendChild(l)}return Promise.all(s)},u.m=e,u.c=t,u.d=function(e,s,a){u.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:a})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,s){if(1&s&&(e=u(e)),8&s)return e;if(4&s&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(u.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var t in e)u.d(a,t,function(s){return e[s]}.bind(null,t));return a},u.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(s,"a",s),s},u.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},u.p="/",u.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=s,c=c.slice();for(var d=0;d<c.length;d++)s(c[d]);var p=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,s,a){e.exports=a("56d7")},3804:function(e,s,a){},"557b":function(e,s,a){},"56d7":function(e,s,a){"use strict";a.r(s);var t=a("2b0e"),n=function(){var e=this,s=e._self._c;return s("router-view",{attrs:{id:"application"}})},o=[],r=a("2f62"),i={methods:{...Object(r["b"])(["readToken"]),...Object(r["c"])(["loadSessionUser"])},computed:{...Object(r["d"])(["token"])},mounted(){const e=a("1157");window.$=e,this.loadSessionUser()},created(){this.readToken()}},u=i,c=a("0c7c"),l=Object(c["a"])(u,n,o,!1,null,null,null),d=l.exports,p=a("8c4f");t["a"].use(p["a"]);const m=[{path:"/",name:"Login",component:()=>a.e("chunk-23c8a126").then(a.bind(null,"a55b"))},{path:"/Login",component:()=>a.e("chunk-23c8a126").then(a.bind(null,"a55b"))},{path:"/registro/:id",component:()=>a.e("chunk-68b0555c").then(a.bind(null,"5588"))},{path:"/admin",name:"Dashboard",component:()=>a.e("chunk-f32b8b5e").then(a.bind(null,"7277")),meta:{protectedRoute:!0}},{path:"/perfil",name:"Profile",component:()=>a.e("chunk-e67ae2ec").then(a.bind(null,"c66d")),meta:{protectedRoute:!0}},{path:"/registro",name:"UserRegister",component:()=>a.e("chunk-20b8545f").then(a.bind(null,"5d67")),meta:{protectedRoute:!0}},{path:"/cartera",name:"Wallet",component:()=>a.e("chunk-3a8e05aa").then(a.bind(null,"4dd7")),meta:{protectedRoute:!0}},{path:"/vision-usuario",name:"UserVision",component:()=>a.e("chunk-28c6b75b").then(a.bind(null,"6202")),meta:{protectedRoute:!0}},{path:"/vision-usuario/:id",component:()=>a.e("chunk-28c6b75b").then(a.bind(null,"6202")),meta:{protectedRoute:!0}},{path:"/listar-usuarios",name:"Users",component:()=>a.e("chunk-36f8da82").then(a.bind(null,"ed81")),meta:{protectedRoute:!0}},{path:"/edicion-usuario/:id",name:"UserEdit",component:()=>a.e("chunk-455ea4ec").then(a.bind(null,"da5c")),meta:{protectedRoute:!0}},{path:"/permisos",name:"Permissions",component:()=>a.e("chunk-3c4b33b6").then(a.bind(null,"2a2e")),meta:{protectedRoute:!0}},{path:"/revision",name:"Revision",component:()=>a.e("chunk-74ae84f4").then(a.bind(null,"86f4")),meta:{protectedRoute:!0}},{path:"/devoluciones",name:"Devoluciones",component:()=>a.e("chunk-a1bc9662").then(a.bind(null,"5b7b")),meta:{protectedRoute:!0}},{path:"/seguimiento",name:"Seguimiento",component:()=>a.e("chunk-686cb759").then(a.bind(null,"3706")),meta:{protectedRoute:!0}},{path:"*",component:()=>a.e("chunk-1dae71ae").then(a.bind(null,"8cdb"))}],_=new p["a"]({mode:"history",base:"/",routes:m});_.beforeEach((e,s,a)=>{const t=e.matched.some(e=>e.meta.protectedRoute);t&&null===localStorage.getItem("token")?a("/"):a()});var h=_,b=a("bc3a"),f=a.n(b),k={namespaced:!0,state:{user:{loaded:!1,loaded_lines:!1,loaded_sponsors:!1,id:"",name:"",last_name:"",id_card:"0",primary_phone:"",secondary_phone:"",whatsapp:"",city_id:"",city_name:"",department:"",country:"",country_name:"",email:"",adress:"",lines:{},sponsor_user:"",num_paid:0,current_money:0,sponsors:{},total_sp:0,num_sponsors:0,active_lines:0},wallet:{loaded:!1,money:0,paid_money:0,num_paid:0,current_money:0}},mutations:{async loadUser(e,s){function a(){e.user.loaded=!1,e.user.loaded_lines=!1,e.user.loaded_sponsors=!1,e.user.id="",e.user.name="",e.user.last_name="",e.user.id_card="",e.user.lines={},e.user.total_sp=0,e.user.num_sponsors=0,e.user.active_lines=0,e.user.sponsor_user=0}a();let t=v.state.api_url+"/api/users/list/"+s;return await f.a.get(t,{headers:{Authorization:"Bearer "+v.state.token}}).then(s=>{e.user.id=s.data.id,e.user.name=s.data.name,e.user.last_name=s.data.last_name,e.user.id_card=s.data.id_card,e.user.phone=s.data.phone,e.user.city_id=s.data.city_id,e.user.city_name=s.data.city.city_name,e.user.department=s.data.city.department,e.user.country=s.data.city.country_code,e.user.country_name=s.data.city.country_name,e.user.login=s.data.login,e.user.sponsor_user=s.data.sponsor_user,e.user.num_paid=s.data.num_paid,e.user.consignment=s.data.consignment,e.user.count_type=s.data.count_type,e.user.count_number=s.data.count_number,e.user.state=s.data.state,e.user.loaded=!0}).catch(s=>{a(),console.log(s.response),404==s.response.status&&(e.user.loaded=!0)})},async loadLines(e,s){let a=v.state.api_url+`/api/users/${s}/lines`;return await f.a.get(a,{headers:{Authorization:"Bearer "+v.state.token}}).then(s=>{e.user.loaded_lines=!0,e.user.lines={1:s.data.line_1,2:s.data.line_2,3:s.data.line_3,4:s.data.line_4,5:s.data.line_5},e.user.total_sp=parseInt(s.data.line_1)+parseInt(s.data.line_2)+parseInt(s.data.line_3)+parseInt(s.data.line_4)+parseInt(s.data.line_5),e.user.lines[1]>0&&(e.user.active_lines=1),e.user.lines[2]>0&&e.user.active_lines++,e.user.lines[3]>0&&e.user.active_lines++,e.user.lines[4]>0&&e.user.active_lines++,e.user.lines[5]>0&&e.user.active_lines++})},async loadSponsors(e,s){let a=v.state.api_url+`/api/users/${s}/sponsors`;return await f.a.get(a,{headers:{Authorization:"Bearer "+v.state.token}}).then(s=>{e.user.loaded_sponsors=!0,e.user.sponsors={1:{code:s.data.sp_user_1,name:s.data.sp_user_1_name},2:{code:s.data.sp_user_2,name:s.data.sp_user_2_name},3:{code:s.data.sp_user_3,name:s.data.sp_user_3_name},4:{code:s.data.sp_user_4,name:s.data.sp_user_4_name},5:{code:s.data.sp_user_5,name:s.data.sp_user_5_name}},e.user.sponsors[1].code&&(e.user.num_sponsors=1),e.user.sponsors[2].code&&e.user.num_sponsors++,e.user.sponsors[3].code&&e.user.num_sponsors++,e.user.sponsors[4].code&&e.user.num_sponsors++,e.user.sponsors[5].code&&e.user.num_sponsors++}).catch(e=>{console.log(e.response)})},async loadWallet(e,s){let a=v.state.api_url+`/api/users/${s}/wallet`;return e.wallet.loaded=!1,await f.a.get(a,{headers:{Authorization:"Bearer "+v.state.token}}).then(s=>{e.wallet.loaded=!0,e.wallet.money=s.data.money,e.wallet.paid_money=s.data.paid_money,e.wallet.num_paid=s.data.num_paid,e.wallet.current_money=s.data.current_money}).catch(e=>{console.log(e.response)})}},actions:{async getUsersLine({commit:e},s){var a=s.line,t=s.user_id;let n=v.state.api_url+`/api/users/${t}/line/${a}`;return await f.a.get(n,{headers:{Authorization:"Bearer "+v.state.token}})},async userPayments({commit:e},s){let a=v.state.api_url+`/api/users/${s.id}/payments`;return await f.a.post(a,s,{headers:{Authorization:"Bearer "+v.state.token}})},async registerUser({commit:e},s){let a=v.state.api_url+"/api/users/register";return await f.a.post(a,s,{headers:{Authorization:"Bearer "+v.state.token}})},async updateUser({commit:e},s){let a=v.state.api_url+"/api/users/update/"+s.id;return await f.a.post(a,s,{headers:{Authorization:"Bearer "+v.state.token}})},async loadFiles({commit:e},s){let a=v.state.api_url+`/api/users/${s.id}/loadConsignmentFile`;return await f.a.post(a,s.form,{headers:{Authorization:"Bearer "+v.state.token}})},async showFile({commit:e},s){let a=v.state.api_url+"/api/users/file/consignment/"+s.id;return f.a.get(a,{headers:{Authorization:"Bearer "+v.state.token}})},async changePassword({commit:e},s){let a=v.state.api_url+"/api/users/change_password/"+s.id;return await f.a.post(a,s.password,{headers:{Authorization:"Bearer "+v.state.token}})},async resetePassword({commit:e},s){let a=v.state.api_url+"/api/users/reset_password/"+s.id;return await f.a.post(a,null,{headers:{Authorization:"Bearer "+v.state.token}})}}},g={namespaced:!0,state:{error:null},mutations:{setError(e,s){e.error="401"}},actions:{login({commit:e},s){let a=v.state.api_url+"/api/auth/login";return console.log(s),f.a.post(a,s)},logout({commit:e}){let s=v.state.api_url+"/api/auth/logout";f.a.post(s,null,{headers:{Authorization:"Bearer "+v.state.token}}).then(()=>{e("setToken",null,{root:!0}),localStorage.removeItem("token"),window.location.href="/"}).catch(s=>{e("setError",s.response),localStorage.removeItem("token"),window.location.href="/"})}}},y=(a("14d9"),{namespaced:!0,state:{countries:[],departments:[],cities_department:[],cities:[]},mutations:{getAllCountries(e,s){let a=v.state.api_url+"/api/countries/list";f.a.get(a,{headers:{Authorization:"Bearer "+v.state.token}}).then(s=>{e.countries=s.data}).catch(e=>console.log(e.response))},getCountryCities(e,s){let a=v.state.api_url+"/api/countries/cities/"+s;f.a.get(a,{headers:{Authorization:"Bearer "+v.state.token}}).then(s=>{e.cities=s.data,e.departments=[],e.cities_department=s.data,s.data.forEach(s=>{let a=e.departments.find(e=>e.name===s.department);a||e.departments.push({name:s.department})})}).catch(e=>console.log(e))},filterCities(e,s){e.cities_department=[];let a=e.cities.filter(e=>e.department===s);e.cities_department=a}},actions:{getCity({commit:e},s){console.log(s)}}}),w={namespaced:!0,state:{users:[],roles:[],permissions:[]},mutations:{getRoles(e){let s=v.state.api_url+"/api/roles";f.a.get(s,{headers:{Authorization:"Bearer "+v.state.token}}).then(s=>{e.roles=s.data}).catch(e=>console.log(e.response))},getUsersWithRoles(e){let s=v.state.api_url+"/api/roles/users";f.a.get(s,{headers:{Authorization:"Bearer "+v.state.token}}).then(s=>{e.users=s.data}).catch(e=>console.log(e.response))},getPermissions(e){let s=v.state.api_url+"/api/roles/permissions";f.a.get(s,{headers:{Authorization:"Bearer "+v.state.token}}).then(s=>{e.permissions=s.data}).catch(e=>console.log(e))}},actions:{registerRoleToUser({commit:e},s){let a=v.state.api_url+"/api/roles/asign_user";return f.a.post(a,{role_id:s.role_id,user_id:s.user_id},{headers:{Authorization:"Bearer "+v.state.token}})}}};t["a"].use(r["a"]);var v=new r["a"].Store({modules:{user:k,auth:g,country:y,permission:w},state:{token:null,api_url:"",session_user:{id:"",name:"",last_name:"",city_id:"",sp_user_code:"",sp_user_name:"",root_file:"",card_file:"",sponsors:{},permissions:{},pages:{},total_sp:0,num_sponsors:0},session_lines:{loaded:!1,lines:{},total_users:0,active_lines:0},session_wallet:{money:0,paid_money:0,num_paid:0,current_money:0},session_sponsors:{loaded:!1,num_sponsors:0,sponsors:{}},alphabet:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","u","v","w","x","y","z"]},mutations:{setToken(e,s){e.token=s},loadSessionUser(e,s){if(!e.session_user.id&&e.token||s&&s.reload){let s=e.api_url+"/api/auth/me";f.a.post(s,"",{headers:{Authorization:"Bearer "+e.token}}).then(s=>{e.session_user=s.data.user,e.session_user.pages={},s.data.user.permissions.forEach(s=>{switch(s.name){case"users.show":e.session_user.pages.user_list=!0,e.session_user.pages.user_view=!0;break;case"users.edit_sponsor":e.session_user.pages.user_sp_edit=!0;break;case"users.edit":e.session_user.pages.user_edit=!0;break;case"salepoint.show":e.session_user.pages.aliance=!0;break;case"salepoint.create":e.session_user.pages.aliance_create=!0;break;case"salepoint.edit":e.session_user.pages.aliance_edit=!0;break;case"salepoint.asignuser":e.session_user.pages.aliance_asignuser=!0;break;case"salepoint.removeuser":e.session_user.pages.aliance_removeuser=!0;break;case"salepoint.payment":e.session_user.pages.aliance_payment=!0;break;case"salepoint.create.payment":e.session_user.pages.aliance_createpayment=!0;break;case"commission.show":e.session_user.pages.commision=!0;break;case"commission.payment":e.session_user.pages.commision_payment=!0;break;case"commission.create_many":e.session_user.pages.commision_many=!0;break;case"payment.show":e.session_user.pages.payment=!0;break;case"role.manage":e.session_user.pages.role=!0;break}}),e.loaded_user=0}).catch(s=>{if(console.log(s.response),401==s.response.status){let s=e.api_url+"/api/auth/logout";f.a.post(s,"",{headers:{Authorization:"Bearer "+e.token}}).then(()=>{e.token=null,localStorage.removeItem("token"),window.location.href="/"}).catch(e=>{localStorage.removeItem("token"),window.location.href="/"})}})}else e.loaded_user++},loadSessionLines(e,s){if(!e.session_sponsors.loaded||s&&s.reload){e.session_lines.loaded=!1;let s=e.api_url+`/api/users/${e.session_user.id}/lines`;return f.a.get(s,{headers:{Authorization:"Bearer "+e.token}}).then(s=>{e.session_lines.total_users=parseInt(s.data.total),e.session_lines.active_lines=8,e.session_lines.loaded=!0}).catch(e=>{console.log(e.response)})}},loadSessionSponsors(e){if(!e.session_sponsors.loaded){let s=e.api_url+`/api/users/${e.session_user.id}/sponsors`;return f.a.get(s,{headers:{Authorization:"Bearer "+e.token}}).then(s=>{e.session_sponsors.sponsors={1:{code:s.data.sp_user_1,name:s.data.sp_user_1_name},2:{code:s.data.sp_user_2,name:s.data.sp_user_2_name},3:{code:s.data.sp_user_3,name:s.data.sp_user_3_name},4:{code:s.data.sp_user_4,name:s.data.sp_user_4_name},5:{code:s.data.sp_user_5,name:s.data.sp_user_5_name}},e.session_sponsors.sponsors[1].code&&(e.session_sponsors.num_sponsors=1),e.session_sponsors.sponsors[2].code&&e.session_sponsors.num_sponsors++,e.session_sponsors.sponsors[3].code&&e.session_sponsors.num_sponsors++,e.session_sponsors.sponsors[4].code&&e.session_sponsors.num_sponsors++,e.session_sponsors.sponsors[5].code&&e.session_sponsors.num_sponsors++,e.session_sponsors.loaded=!0}).catch(e=>console.log(e))}}},actions:{readToken({commit:e}){localStorage.getItem("token")?e("setToken",localStorage.getItem("token")):e("setToken",null)}}}),A=a("f9d5"),B=a.n(A),S=a("130e");a("ab8b"),a("4989"),a("f507"),a("4413"),a("e828"),a("1e4b"),a("3804"),a("819a"),a("557b");t["a"].config.productionTip=!1,t["a"].use(S["a"],f.a),t["a"].use(B.a),t["a"].use(a("2ead")),new t["a"]({mode:"history",router:h,store:v,render:e=>e(d)}).$mount("#app")},"819a":function(e,s,a){}});
//# sourceMappingURL=app.fdc09f69.js.map