(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28c6b75b"],{1171:function(t,s,a){"use strict";a("2999")},2999:function(t,s,a){},"3d13":function(t,s,a){"use strict";var e=function(){var t=this,s=t._self._c;return s("aside",[t._m(0),s("div",{staticClass:"sidebar"},[s("router-link",{class:{active:t.routeActive("admin")},attrs:{to:"/admin"}},[s("span",{staticClass:"material-icons-sharp"},[t._v("")]),s("h3",[t._v("Inicio")])]),s("router-link",{class:{active:t.routeActive("perfil")},attrs:{to:"/perfil"}},[s("span",{staticClass:"material-icons-sharp"},[t._v("")]),s("h3",[t._v("Perfíl")])]),"lunes"==t.dia||"jueves"==t.dia?s("router-link",{class:{active:t.routeActive("registro")},attrs:{to:"/registro"}},[s("span",{staticClass:"material-icons-sharp"},[t._v("")]),s("h3",[t._v("Nuevo Registro")])]):t._e(),t.session_user.pages.user_view||t.session_user.pages.user_list?s("hr",{staticStyle:{color:"var(--color-dark)"}}):t._e(),t.session_user.pages.user_view?s("router-link",{class:{active:t.routeActive("vision-usuario")},attrs:{to:"/vision-usuario"}},[s("span",{staticClass:"material-icons-sharp"},[t._v("")]),s("h3",[t._v("Visión de Usuario")])]):t._e(),t.session_user.pages.user_list?s("router-link",{class:{active:t.routeActive("listar-usuarios")},attrs:{to:"/listar-usuarios"}},[s("span",{staticClass:"material-icons-sharp"},[t._v("")]),s("h3",[t._v("Listar Usuarios")])]):t._e(),s("hr",{staticStyle:{color:"var(--color-dark)"}}),s("router-link",{class:{active:t.routeActive("devoluciones")},attrs:{to:"/devoluciones"}},[s("span",{staticClass:"material-icons-sharp"},[t._v("")]),s("h3",[t._v("Devoluciones")])]),s("hr",{staticStyle:{color:"var(--color-dark)"}}),t.session_user.pages.role?s("router-link",{class:{active:t.routeActive("permisos")},attrs:{to:"/permisos"}},[s("span",{staticClass:"material-icons-sharp"},[t._v("")]),s("h3",[t._v("Permisos")])]):t._e(),s("a",{attrs:{href:"#"},on:{click:function(s){return t.logout()}}},[s("span",{staticClass:"material-icons-sharp"},[t._v("")]),s("h3",[t._v("Logout")])])],1)])},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"top"},[s("div",{staticClass:"logo"},[s("h2",[s("b",[t._v("PAF APP")])])]),s("div",{staticClass:"close",attrs:{id:"close-btn"}},[s("span",{staticClass:"material-icons-sharp"},[t._v("close")])])])}],r=a("2f62"),n={data:function(){return{isActive:!0,dia:""}},methods:{...Object(r["b"])("auth",["logout"]),routeActive(t){var s=this.$router.history.current.path.replace(/\//g,"");return t==s},validateUrlImage(){let t=this.$route.path;return t.split("/").length>2?"../logo3b.png":"logo3b.png"}},mounted(){const t=document.querySelector("aside"),s=document.querySelector("#menu-btn"),a=document.querySelector("#close-btn");function e(){let t=new Date,s={weekday:"long",year:"numeric",month:"long",day:"numeric"},a=t.toLocaleDateString("es-MX",s).split(",");return a[0]}s.addEventListener("click",()=>{t.style.display="block"}),a.addEventListener("click",()=>{t.style.display="none"}),this.dia=e()},computed:{...Object(r["d"])(["session_user"])}},o=n,l=a("0c7c"),c=Object(l["a"])(o,e,i,!1,null,null,null);s["a"]=c.exports},6202:function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"application-container"},[s("Aside"),s("main",[s("h1",[t._v("Visión de Usuario")]),s("div",{staticClass:"info-card"},[s("p",[t._v("Busca un usuario para ver su perfíl")]),s("form",{on:{submit:function(s){return s.preventDefault(),t.searchUser(t.id)}}},[s("div",{staticClass:"row mt-1"},[s("div",{staticClass:"col-sm-4"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Busca código"},domProps:{value:t.id},on:{input:function(s){s.target.composing||(t.id=s.target.value)}}})]),t._m(0)])])]),this.search&&this.user.id?s("div",[s("div",{staticClass:"info-card"},[s("p",[t._v("Patrocinadores")]),s("hr"),t.user.num_sponsors||t.user.loaded_sponsors?s("div",[!t.user.num_sponsors&&t.user.loaded_sponsors?s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[t._v("Patrocinador 1")]),s("div",{staticClass:"col-2"},[t._v("...")]),s("div",{staticClass:"col-6"},[t._v("Main")])]):t._e(),t._l(t.user.num_sponsors,(function(a){return s("div",{key:a,staticClass:"row mb-2"},[s("div",{staticClass:"col-sm-4"},[s("p",[t._v("Patrocinador "+t._s(a))])]),s("div",{staticClass:"col-2"},[s("p",{staticStyle:{color:"var(--color-dark)"}},[t._v(t._s(t.user.sponsors[a].code))])]),s("div",{staticClass:"col-6"},[s("p",{staticStyle:{color:"var(--color-dark)"}},[t._v(t._s(t.user.sponsors[a].name))])])])}))],2):s("div",[t._m(1)])]),s("div",{staticClass:"info-card"},[s("p",[t._v("Líneas")]),s("hr"),t._l(9,(function(a){return s("div",{key:a,staticClass:"mb-2 active-line row",staticStyle:{margin:"0"},on:{click:function(s){return t.showLine(a)}}},[s("div",{staticClass:"col"},[t._v(t._s(t.renderNumLinea(a)))]),s("div",{staticClass:"col"},[s("b",[t._v(t._s(t.user.lines[a]))])])])}))],2),this.user.id?s("div",{staticClass:"info-card mb-5"},[t._m(2),s("div",{staticClass:"tab-content",attrs:{id:"nav-tabContent"}},[s("div",{staticClass:"tab-pane fade show active",attrs:{id:"nav-personal",role:"tabpanel","aria-labelledby":"nav-personal-tab"}},[s("div",{staticClass:"row mt-3 mb-1"},[s("div",{staticClass:"col-md-3"},[s("p",[t._v("Código")]),s("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.id))])]),s("div",{staticClass:"col-md-9"},[s("p",[t._v("Documento")]),s("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.id_card))])])]),s("div",{staticClass:"row mt-2 mb-1"},[s("div",{staticClass:"col-md-6"},[s("p",[t._v("Nombres")]),s("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.name))])]),s("div",{staticClass:"col-md-6"},[s("p",[t._v("Apellidos")]),s("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.last_name))])])]),this.user.consignment?s("div",{staticClass:"row mt-3"},[this.user.consignment?s("div",{staticClass:"col-lg-6"},[s("p",[t._v("Comprobante")]),s("span",{staticClass:"link",on:{click:function(s){return t.downloadFile()}}},[t._v(t._s(this.user.consignment))])]):t._e()]):t._e()]),s("div",{staticClass:"tab-pane fade",attrs:{id:"nav-contact",role:"tabpanel","aria-labelledby":"nav-contact-tab"}},[s("div",{staticClass:"row mt-2 mb-1"},[s("div",{staticClass:"col-lg-12"},[s("p",[t._v("Teléfono")]),s("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.phone))])])]),s("div",{staticClass:"row mt-2 mb-1"},[s("div",{staticClass:"col-md-12"},[s("p",[t._v("País")]),s("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.country_name))])])]),s("div",{staticClass:"row mt-2 mb-1"},[s("div",{staticClass:"col-lg-6"},[s("p",[t._v("Departamento")]),s("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.department))])]),s("div",{staticClass:"col-lg-6"},[s("p",[t._v("Ciudad")]),s("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.city_name))])])])]),s("div",{staticClass:"tab-pane fade",attrs:{id:"nav-access",role:"tabpanel","aria-labelledby":"nav-access-tab"}},[s("div",{staticClass:"row mt-3 mb-1"},[s("div",{staticClass:"col-md-12"},[s("p",[t._v("Login")]),s("p",{staticClass:"form-control",attrs:{type:"text"}},[t._v(t._s(this.user.login))])])]),t._m(3)])])]):s("div",{staticClass:"info-card"},[t._m(4)])]):t._e(),this.search&&this.user.loaded&&!this.user.id?s("div",[t._m(5)]):t._e(),this.search&&!this.user.loaded?s("div",{staticStyle:{display:"flex","justify-content":"center"}},[s("div",{staticClass:"lds-dual-ring"})]):t._e()]),s("Right")],1)},i=[function(){var t=this,s=t._self._c;return s("div",{staticClass:"col-sm-2"},[s("button",{staticClass:"btn btn-primary"},[t._v("Buscar")])])},function(){var t=this,s=t._self._c;return s("div",{staticStyle:{display:"flex","justify-content":"center"}},[s("div",{staticClass:"lds-facebook"},[s("div"),s("div"),s("div")])])},function(){var t=this,s=t._self._c;return s("nav",[s("div",{staticClass:"nav nav-tabs",attrs:{id:"nav-tab",role:"tablist"}},[s("button",{staticClass:"nav-link active",attrs:{id:"nav-personal-tab","data-toggle":"tab","data-target":"#nav-personal",type:"button",role:"tab","aria-controls":"nav-personal","aria-selected":"true"}},[t._v("Información Personal")]),s("button",{staticClass:"nav-link",attrs:{id:"nav-contact-tab","data-toggle":"tab","data-target":"#nav-contact",type:"button",role:"tab","aria-controls":"nav-contact","aria-selected":"false"}},[t._v("Información de Contacto")]),s("button",{staticClass:"nav-link",attrs:{id:"nav-access-tab","data-toggle":"tab","data-target":"#nav-access",type:"button",role:"tab","aria-controls":"nav-access","aria-selected":"false"}},[t._v("Información de Acceso")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"row mt-2 mb-1"},[s("div",{staticClass:"col-md-12"},[s("p",[t._v("Contraseña")]),s("p",{staticClass:"form-control"},[t._v("****")])])])},function(){var t=this,s=t._self._c;return s("div",{staticStyle:{display:"flex","justify-content":"center"}},[s("div",{staticClass:"lds-dual-ring"})])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"info-card"},[s("p",[t._v("Usuario no encontrado")])])}],r=(a("14d9"),a("2f62")),n=a("3d13"),o=a("8084"),l={name:"UserVision",components:{Aside:n["a"],Right:o["a"]},data:function(){return{id:this.$route.params.id,search:!1}},methods:{showLine(t){let s=document.getElementById("active_line");s.innerHTML=this.renderNumLinea(t),$("#modal-lines").modal("show"),this.getUsersLine({user_id:this.id,line:t}).then(t=>{var s=[];t.data.forEach(t=>{var a=this.formatDate(t.created_at);let e={id:t.id,name:t.name,date:a};s.push(e)}),$("#table-line").DataTable({responsive:!0,lengthChange:!1,info:!1,destroy:!0,data:s,columns:[{data:"id"},{data:"name"},{data:"date"}]})})},renderNumLinea(t){switch(t){case 1:return"Primera Línea";case 2:return"Segunda Línea";case 3:return"Tercera Línea";case 4:return"Cuarta Línea";case 5:return"Quinta Línea";case 6:return"Sexta Línea";case 7:return"Séptima Línea";case 8:return"Octava Línea";case 9:return"Novena Línea";default:return""}},formatDate(t){var s=new Date(t),a=s.getFullYear(),e=s.getMonth()+1,i=s.getDate();return e<10&&(e="0"+e),i<10&&(i="0"+i),a+"/"+e+"/"+i},async downloadFile(){try{const t=await this.showFile({id:this.user.id}),s="data:image/jpeg;base64,"+t.data.data,a=document.createElement("a"),e="consignment_"+this.user.id+".jpeg";a.href=s,a.download=e,a.click()}catch(t){console.log(t)}},searchUser(t){this.search=!0,this.loadUser(t),this.loadLines(t),this.loadSponsors(t)},...Object(r["b"])("user",["showFile"]),...Object(r["b"])("user",["getUsersLine"]),...Object(r["c"])("user",["loadUser"]),...Object(r["c"])("user",["loadLines"]),...Object(r["c"])("user",["loadSponsors"]),...Object(r["c"])(["loadSessionUser"])},mounted:function(){$(".modal-backdrop").remove(),this.search=!1,this.loadSessionUser(),this.id&&(this.search=!0,this.loadUser(this.id),this.loadLines(this.id),this.loadSponsors(this.id))},computed:{...Object(r["d"])("user",["user"]),...Object(r["d"])(["session_user"])}},c=l,d=(a("ca64"),a("0c7c")),u=Object(d["a"])(c,e,i,!1,null,"5a2a3b84",null);s["default"]=u.exports},8084:function(t,s,a){"use strict";var e=function(){var t=this,s=t._self._c;return s("div",{staticClass:"right"},[s("div",{staticClass:"top"},[t._m(0),s("div",{staticClass:"profile"},[s("div",{staticClass:"info"},[s("p",[t._v("Bienvenido, "),s("b",[t._v(t._s(t.session_user.name+" "+t.session_user.last_name))])])])])]),t.session_lines.loaded?s("div",{staticClass:"sales-analytics mt-3"},[s("h2",[t._v("Niveles ")]),t._l(9,(function(a){return s("div",{key:a,staticClass:"item",on:{click:function(s){return t.showLine(a)}}},[t._m(1,!0),s("div",{staticClass:"right"},[s("div",{staticClass:"info"},[s("h3",[t._v(t._s(t.renderNumLinea(a)))])]),s("h3",[t._v(t._s(t.session_lines.lines[a]))])])])}))],2):s("div",[t.session_lines.loaded?s("h2",[s("p",[t._v("No hay líneas activas")])]):s("div",{staticStyle:{display:"flex","justify-content":"center"}},[t._m(2)])]),s("div",{staticClass:"modal fade",attrs:{id:"modal-lines",tabindex:"-1","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog"},[s("div",{staticClass:"modal-content"},[t._m(3),s("div",{staticClass:"modal-body"},[t.loading_line?s("div",{staticStyle:{display:"flex","justify-content":"center"}},[t._m(4)]):t._e(),s("div",{class:{dnone:t.loading_line}},[t._m(5)])])])])])])},i=[function(){var t=this,s=t._self._c;return s("button",{attrs:{id:"menu-btn"}},[s("span",{staticClass:"material-icons-sharp"},[t._v("menu")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"icon"},[s("span",{staticClass:"material-icons-sharp active"},[t._v("")])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"lds-facebook"},[s("div"),s("div"),s("div")])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"modal-header"},[s("h3",{staticClass:"modal-title",attrs:{id:"active_line"}}),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,s=t._self._c;return s("div",{staticClass:"lds-facebook"},[s("div"),s("div"),s("div")])},function(){var t=this,s=t._self._c;return s("table",{staticClass:"table table-striped",staticStyle:{border:"none"},attrs:{id:"table-line"}},[s("thead",[s("tr",[s("th",[t._v("Código")]),s("th",[t._v("Nombre")]),s("th",[t._v("Fecha Ingreso")])])])])}],r=(a("14d9"),a("2f62")),n={components:{},data(){return{search:"",count_lines:0,active_line:!1,loading_line:!1}},methods:{showLine(t){this.loading_line=!0;let s=document.getElementById("active_line");s.innerHTML=this.renderNumLinea(t),$("#modal-lines").modal("show"),this.getUsersLine({user_id:this.session_user.id,line:t}).then(t=>{var s=[];t.data.forEach(t=>{var a=this.formatDate(t.created_at);let e={id:t.id,name:t.name,date:a};s.push(e)}),this.loading_line=!1,$("#table-line").DataTable({responsive:!0,autoWidth:!1,lengthChange:!1,info:!1,destroy:!0,data:s,columns:[{data:"id"},{data:"name"},{data:"date"}]})})},renderNumLinea(t){switch(t){case 1:return"Nivel 1";case 2:return"Nivel 2";case 3:return"Nivel 3";case 5:return"Nivel 4";case 4:return"Nivel 5";case 6:return"Nivel 6";case 7:return"Nivel 7";case 8:return"Nivel 8";case 9:return"Nivel 9";default:return""}},formatDate(t){var s=new Date(t),a=s.getFullYear(),e=s.getMonth()+1,i=s.getDate();return e<10&&(e="0"+e),i<10&&(i="0"+i),a+"/"+e+"/"+i},...Object(r["b"])("user",["getUsersLine"]),...Object(r["c"])(["loadSessionLines"])},computed:{...Object(r["d"])(["session_user"]),...Object(r["d"])(["session_lines"])},mounted(){let t=setInterval(()=>{if(this.session_user.id)return this.loadSessionLines(),clearInterval(t)})}},o=n,l=(a("1171"),a("0c7c")),c=Object(l["a"])(o,e,i,!1,null,null,null);s["a"]=c.exports},ca64:function(t,s,a){"use strict";a("de3c")},de3c:function(t,s,a){}}]);
//# sourceMappingURL=chunk-28c6b75b.05a08870.js.map