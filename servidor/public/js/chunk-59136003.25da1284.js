(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-59136003"],{"0bf5":function(e,t,s){},2813:function(e,t,s){"use strict";s("0bf5")},6703:function(e,t,s){"use strict";s("f380")},"8cdb":function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login"},[t("main",[t("section",{staticClass:"text-center text-lg-start"},[t("div",{staticClass:"container py-4",staticStyle:{"max-width":"1200px"}},[t("div",{staticClass:"row g-0"},[t("div",{staticClass:"col-lg-6 mb-5 mb-lg-0"},[t("div",{staticClass:"info-text"},[e._m(0),t("h2",{staticClass:"mb-2"},[e._v("Página no encontrada")]),t("h3",[t("router-link",{attrs:{to:"/"}},[e._v("Regresar al inicio")])],1)])])])])])])])},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"title-logo"},[t("h1",[e._v("404")])])}],o=s("9d26"),n=s("2f62"),i={name:"Login",components:{FrmRegisterVue:o["a"]},data:function(){return{user:{email:"",password:""}}},methods:{...Object(n["b"])("auth",["login"]),...Object(n["c"])(["setToken"])},mounted:function(){},computed:{...Object(n["d"])("auth",["error"])}},c=i,l=(s("2813"),s("0c7c")),u=Object(l["a"])(c,r,a,!1,null,"11edf690",null);t["default"]=u.exports},"9d26":function(e,t,s){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"row"},[e._m(0),t("div",{staticClass:"col-md-3 mb-2"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search_code,expression:"search_code"}],staticClass:"form-control",attrs:{type:"number",placeholder:"Buscar código..."},domProps:{value:e.search_code},on:{input:function(t){t.target.composing||(e.search_code=t.target.value)}}})]),t("div",{staticClass:"col-md-6"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.user.sponsor_user,expression:"user.sponsor_user"}],staticClass:"form-control",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"sponsor_user",t.target.multiple?s:s[0])}}},[e.users.length<=0&&e.search_code?t("option",{attrs:{value:"",selected:"",disabled:""}},[e._v("Usuario no encontrado")]):e._e(),e._l(e.users,(function(s){return t("option",{key:s.id,domProps:{value:s.id}},[e._v(e._s(s.id+" | "+s.name+" "+s.last_name))])}))],2)])]),t("hr",{staticStyle:{color:"var(--color-dark)"}}),t("form",{on:{submit:function(t){return t.preventDefault(),e.validateRegisterUser(e.user)}}},[t("div",{staticClass:"row mt-2 mb-1"},[t("div",{staticClass:"col-md-12"},[t("p",[e._v("Documento")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.id_card,expression:"user.id_card"}],staticClass:"form-control",attrs:{type:"number"},domProps:{value:e.user.id_card},on:{input:function(t){t.target.composing||e.$set(e.user,"id_card",t.target.value)}}})])]),t("div",{staticClass:"row mt-2 mb-1"},[t("div",{staticClass:"col-md-6"},[t("p",[e._v("Nombres")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.name,expression:"user.name"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:e.user.name},on:{input:function(t){t.target.composing||e.$set(e.user,"name",t.target.value)}}})]),t("div",{staticClass:"col-md-6"},[t("p",[e._v("Apellidos")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.last_name,expression:"user.last_name"}],staticClass:"form-control",attrs:{type:"text",id:"last_name"},domProps:{value:e.user.last_name},on:{input:function(t){t.target.composing||e.$set(e.user,"last_name",t.target.value)}}})])]),t("div",{staticClass:"row mt-2 mb-1"},[t("div",{staticClass:"col-md-12"},[t("p",[e._v("Teléfono de Contacto")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.phone,expression:"user.phone"}],staticClass:"form-control",attrs:{type:"text",id:"phone"},domProps:{value:e.user.phone},on:{input:function(t){t.target.composing||e.$set(e.user,"phone",t.target.value)}}})])]),t("div",{staticClass:"row mt-2 mb-1"},[t("div",{staticClass:"col-md-6"},[t("p",[e._v("País")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.user.country,expression:"user.country"}],staticClass:"form-control",on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"country",t.target.multiple?s:s[0])},function(t){return e.filterDepartments(e.user.country)}]}},e._l(e.countries,(function(s){return t("option",{key:s.code,domProps:{value:s.code}},[e._v(e._s(s.name))])})),0)]),t("div",{staticClass:"col-md-6"},[t("p",[e._v("Departamento")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.user.department,expression:"user.department"}],staticClass:"form-control",on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"department",t.target.multiple?s:s[0])},function(t){return e.filterCitiesFunction(e.user.department)}]}},[t("option",{attrs:{value:"",disabled:""}},[e._v("Selecciona una opción")]),e._l(e.departments,(function(s,r){return t("option",{key:"a"+r},[e._v(e._s(s.name))])}))],2)]),t("div",{staticClass:"col-md-12"},[t("p",[e._v("Ciudad")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.user.city_id,expression:"user.city_id"}],staticClass:"form-control",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"city_id",t.target.multiple?s:s[0])}}},[t("option",{attrs:{value:"",disabled:""}},[e._v("Selecciona una opción")]),e._l(e.cities_department,(function(s){return t("option",{key:s.id,domProps:{value:s.id}},[e._v(e._s(s.name))])}))],2)])]),t("div",{staticClass:"row mt-2 mb-1"},[t("div",{staticClass:"col-md-6"},[t("p",[e._v("Tipo de Cuenta")]),t("select",{directives:[{name:"model",rawName:"v-model",value:e.user.count_type,expression:"user.count_type"}],staticClass:"form-control",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.user,"count_type",t.target.multiple?s:s[0])}}},[t("option",{attrs:{value:"Nequi"}},[e._v("Nequi")]),t("option",{attrs:{value:"Daviplata"}},[e._v("Daviplata")]),t("option",{attrs:{value:"Bancolombia - Ahorros"}},[e._v("Bancolombia - Ahorros")]),t("option",{attrs:{value:"Bancolombia - Corriente"}},[e._v("Bancolombia - Corriente")])])]),t("div",{staticClass:"col-md-6"},[t("p",[e._v("N° de cuenta")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.count_number,expression:"user.count_number"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.user.count_number},on:{input:function(t){t.target.composing||e.$set(e.user,"count_number",t.target.value)}}})])]),t("hr",{staticStyle:{color:"var(--color-dark)"}}),t("div",{staticClass:"row mt-2"},[t("div",{staticClass:"col-md-12"},[t("p",[e._v("Login")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.login,expression:"user.login"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.user.login},on:{input:function(t){t.target.composing||e.$set(e.user,"login",t.target.value)}}})]),t("div",{staticClass:"col-md-6"},[t("p",[e._v("Contraseña")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.user.password},on:{input:function(t){t.target.composing||e.$set(e.user,"password",t.target.value)}}})]),t("div",{staticClass:"col-md-6"},[t("p",[e._v("Confirmar Contraseña")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password_confirmation,expression:"user.password_confirmation"}],staticClass:"form-control",attrs:{type:"password"},domProps:{value:e.user.password_confirmation},on:{input:function(t){t.target.composing||e.$set(e.user,"password_confirmation",t.target.value)}}})])]),e._m(1)])])},a=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-md-3"},[t("p",[e._v("Seleccionar Patrocinador")])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-md-8"}),t("div",{staticClass:"col-md-4"},[t("button",{staticClass:"btn btn-primary",staticStyle:{width:"100%"}},[e._v("Registrar")])])])}],o=s("2f62"),n=s("bc3a"),i=s.n(n),c={props:["response"],data:function(){return{search_code:"",selected_code:"",user:{name:"",last_name:"",id_card:"",phone:"",city_id:"",department:"",country:"COL",login:"",password:"",password_confirmation:"",sponsor_user:"1",count_type:"Nequi",count_number:""},users:[]}},methods:{showModalContract(){$("#modal-contract").modal("show")},confirmContract(){$("#modal-contract").modal("hide")},showModalTerms(){$("#modal-terms").modal("show")},confirmTerms(){$("#modal-terms").modal("hide")},clearFields(){this.user.name="",this.user.last_name="",this.user.id_card="",this.user.phone="",this.user.city_id="",this.user.department="",this.user.country="COL",this.user.login="",this.user.password="",this.user.password_confirmation="",this.user.sponsor_user="1",this.user.count_type="Nequi",this.user.count_number="",this.searchUser({search:"",order:"DESC",limit:20})},searchUser(e){let t=this.api_url+"/api/search/public/users";i.a.post(t,e,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then(e=>{this.users=e.data,e.data.length>0?this.user.sponsor_user=e.data[0].id:this.user.sponsor_user=""}).catch(e=>console.log(e.response))},filterDepartments(e){this.user.department="",this.user.city_id="",this.getCountryCities(e)},validateRegisterUser(e){if(!this.isValid(e.name))return document.getElementById("name").focus(),this.launchAlert({type:"warning",title:"El nonbre no puede contener numeros"});if(!this.isValid(e.last_name))return document.getElementById("last_name").focus(),this.launchAlert({type:"warning",title:"El apellido no puede contener numeros"});if(!e.phone)return document.getElementById("phone").focus(),this.launchAlert({type:"warning",title:"Es necesario el teléfono de contacto"});if(!e.count_number.trim())return this.launchAlert({type:"warning",title:"Es necesario el número de cuenta"});if(!e.city_id)return this.launchAlert({type:"warning",title:"Selecciona una ciudad"});if(!e.sponsor_user)return this.launchAlert({type:"warning",title:"Selecciona un patrocinador"});var t=/\s/;return t.test(e.password)?this.launchAlert({type:"warning",title:"La contraseña no puede contener espacios en blanco"}):e.password.length<3?this.launchAlert({type:"warning",title:"La contraseña debe tener una longitud mínima de 3 carácteres"}):e.password!=e.password_confirmation?this.launchAlert({type:"warning",title:"Las contraseñas no coinciden"}):void this.registerUser(e).then(e=>"error"==e.data.status&&"id_card"==e.data.case?this.launchAlert({type:"warning",title:"El documento actualmente se encuentra en uso"}):"error"==e.data.status&&"email"==e.data.case?this.launchAlert({type:"warning",title:"El correo actualmente se encuentra en uso"}):(this.clearFields(),this.response("success"),this.launchAlert({type:"success",title:"Usuario registrado exitosamente"}))).catch(e=>"max_sp"==e.response.data.case?this.launchAlert({type:"error",title:`¡El usuario con código ${this.user.sponsor_user} ya tiene dos usuarios afiliados!`}):"error"===e.response.data.status?this.launchAlert({type:"error",title:e.response.data.message}):(console.log(e),void console.log(e.response)))},launchAlert(e){e.timeout||(e.timeout=2500);const t=this.$swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:e.timeout});t.fire({icon:e.type,title:e.title,text:e.message})},isValid(e){var t=new RegExp("^[a-zA-ZÀ-ÿ ]+$"),s=e;return!!t.test(s)},filterCitiesFunction(e){this.user.city_id="",this.filterCities(e)},...Object(o["b"])("user",["registerUser"]),...Object(o["c"])("country",["getAllCountries"]),...Object(o["c"])("country",["getCountryCities"]),...Object(o["c"])("country",["filterCities"]),...Object(o["c"])(["loadSessionUser"])},mounted:function(){this.loadSessionUser(),this.getAllCountries(),this.getCountryCities("COL")},computed:{...Object(o["d"])(["api_url"]),...Object(o["d"])(["session_user"]),...Object(o["d"])("country",["countries"]),...Object(o["d"])("country",["departments"]),...Object(o["d"])("country",["cities_department"])},watch:{search_code:function(){this.search_code||(this.search_code="NADA"),this.searchUser({search:this.search_code,order:"ASC",limit:1})}}},l=c,u=(s("6703"),s("0c7c")),d=Object(u["a"])(l,r,a,!1,null,null,null);t["a"]=d.exports},f380:function(e,t,s){}}]);
//# sourceMappingURL=chunk-59136003.25da1284.js.map